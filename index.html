<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fasting — Your Holistic System Update</title>

  <!-- Poppins font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Loading / System Update Banner -->
  <div class="loading-wrap" role="status" aria-live="polite">
    <div class="loading-inner">
      <div class="loading-text">Updating Your Holistic System…</div>
      <div class="loading-bar" aria-hidden="true">
        <div class="loading-progress"></div>
      </div>
      <div class="loading-sub">Fasting Mode: <span class="pill">Activated</span></div>
    </div>
  </div>

  <header class="site-header">
    <div class="container header-grid">
      <div class="brand">
        <div class="brand-logo" aria-hidden="true">
          <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.6"/>
            <path d="M7 13c1.5-2 3-3 5-3s3.5 1 5 3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="brand-text">
          <h1>Fasting</h1>
          <p class="tagline">Your Holistic System Update</p>
        </div>
      </div>

      <nav class="nav" id="nav">
  <button class="nav-toggle" aria-label="Toggle menu">☰</button>
  <div class="nav-links">
    <a href="index.html" class="ghost">Home</a>
    <a href="body.html">Body Update</a>
    <a href="soul.html">Soul Update</a>
  </div>
</nav>

    </div>
  </header>

  <main>
    <!-- HERO / Dashboard -->
    <section class="hero">
      <div class="container hero-grid">
        <div class="hero-left">
          <h2 class="hero-title">The System Dashboard<br><span class="highlight">Reboot Your Body. Refresh Your Soul.</span></h2>
          <p class="hero-lead">Puasa bukan hanya menahan lapar, tapi memperbarui sistem hidupmu — dari pikiran hingga sel tubuh.</p>

          <div class="hero-ctas">
            <a class="btn primary" href="#body-soul">Start the Update →</a>
            <a class="btn secondary" href="#scientific">Scientific & Spiritual Insights</a>
          </div>

          <div class="infocard summary">
            <div class="ic-title">Hardware vs Software Update</div>
            <div class="ic-body">
              <div class="chip">Hardware: tubuh, sel, metabolisme</div>
              <div class="chip">Software: disiplin, empati, ketenangan</div>
            </div>
          </div>
        </div>

        <div class="hero-right" aria-hidden="true">
          <div class="orb-wrap">
            <div class="orb">
              <div class="orb-core"></div>
            </div>
            <svg class="orbit-rings" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <g stroke="url(#g1)" fill="none" stroke-width="0.6">
                <ellipse cx="100" cy="100" rx="80" ry="46" />
                <ellipse cx="100" cy="100" rx="60" ry="34" transform="rotate(20 100 100)"/>
              </g>
              <defs>
                <linearGradient id="g1" x1="0" x2="1">
                  <stop offset="0" stop-color="#00FFA3" stop-opacity="0.6"/>
                  <stop offset="1" stop-color="#24D6FF" stop-opacity="0.5"/>
                </linearGradient>
              </defs>
            </svg>
          </div>

          <div class="watermark">FASTING</div>
        </div>
      </div>
    </section>

    <!-- Footer CTA -->
    <section id="join" class="join container">
      <div class="join-inner">
        <h3>Join the Movement — Update Yourself</h3>
        <p class="muted">Bagikan pengalamanmu dan ikut membangun komunitas #HolisticSystemUpdate</p>
        <a href="#share" class="btn primary">Share Your Reboot Story</a>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <small>© <span id="year"></span> Fasting — Your Holistic System Update</small>
    </div>
  </footer>

  <script>
    // dynamic year
    document.getElementById('year').textContent = new Date().getFullYear();

    // simulate loading completion then hide the loading strip
    window.addEventListener('load', () => {
      setTimeout(() => document.querySelector('.loading-wrap').classList.add('loaded'), 1300);
    });

    // CARD INTERACTIONS: hover (CSS) + click to toggle flip for touch devices
    (function(){
      const cards = document.querySelectorAll('.card');
      cards.forEach(card => {
        // allow keyboard toggling (enter/space)
        card.addEventListener('keydown', (e) => {
          if(e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            card.classList.toggle('is-flipped');
          }
        });

        // click to flip (useful for touch)
        card.addEventListener('click', (e) => {
          // avoid flipping when clicking on links inside
          if(e.target.closest('a')) return;
          card.classList.toggle('is-flipped');
        });
      });
    })();

    // AUTOPHAGY PROGRESS: animate circular progress when visible
    (function(){
      const autophagyCard = document.querySelector('.card.autophagy');
      if(!autophagyCard) return;

      const svg = autophagyCard.querySelector('.progress-ring__circle');
      const bg = autophagyCard.querySelector('.progress-ring__bg');
      const numberEl = autophagyCard.querySelector('.progress-number .percent');
      const target = parseInt(autophagyCard.getAttribute('data-progress') || '70', 10);

      const r = svg.r.baseVal.value; // but svg element doesn't expose r directly when selected this way
      // safer approach: read from attribute
      const radius = svg.getAttribute('r') || 48;
      const circ = 2 * Math.PI * radius;
      svg.style.strokeDasharray = `${circ} ${circ}`;
      svg.style.strokeDashoffset = circ;

      // style strokes
      svg.setAttribute('stroke', 'url(#progressGrad)'); // fallback; we'll also set via style
      svg.style.transition = 'stroke-dashoffset 1.6s cubic-bezier(.2,.9,.2,1)';

      // create gradient definition dynamically (for the progress ring)
      const ns = "http://www.w3.org/2000/svg";
      const svgEl = autophagyCard.querySelector('.progress-ring');
      const defs = document.createElementNS(ns, 'defs');
      const grad = document.createElementNS(ns, 'linearGradient');
      grad.setAttribute('id', 'progressGrad');
      grad.setAttribute('x1','0%'); grad.setAttribute('x2','100%');
      const stop1 = document.createElementNS(ns, 'stop'); stop1.setAttribute('offset','0%'); stop1.setAttribute('stop-color','#00FFA3'); stop1.setAttribute('stop-opacity','1');
      const stop2 = document.createElementNS(ns, 'stop'); stop2.setAttribute('offset','100%'); stop2.setAttribute('stop-color','#24D6FF'); stop2.setAttribute('stop-opacity','1');
      grad.appendChild(stop1); grad.appendChild(stop2);
      defs.appendChild(grad);
      svgEl.insertBefore(defs, svgEl.firstChild);

      // use IntersectionObserver to trigger animation when card is in view
      const obs = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if(entry.isIntersecting){
            // animate
            const offset = circ - (target / 100) * circ;
            // set stroke color via style fallback
            svg.style.stroke = 'url(#progressGrad)';
            svg.style.strokeDashoffset = offset;
            // animate number increasing
            let current = 0;
            const duration = 1400;
            const start = performance.now();
            function tick(now){
              const elapsed = now - start;
              const progress = Math.min(1, elapsed / duration);
              const ease = progress < 0.5 ? 2*progress*progress : -1 + (4 - 2*progress)*progress; // simple easing
              const val = Math.round(ease * target);
              numberEl.textContent = val;
              if(progress < 1) requestAnimationFrame(tick);
              else numberEl.textContent = target;
            }
            requestAnimationFrame(tick);
            obs.unobserve(autophagyCard);
          }
        });
      }, {threshold: 0.35});
      obs.observe(autophagyCard);
    })();
  </script>

  <script>
document.querySelector('.nav-toggle').addEventListener('click', ()=>{
  document.querySelector('.nav-links').classList.toggle('open');
});
</script>

</body>
</html>
