<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Soul Update â€” Software Refresh</title>

  <!-- Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="soul.css">
</head>
<body>
 <header class="site-header">
    <div class="container header-grid">
      <div class="brand">
        <div class="brand-logo" aria-hidden="true">
          <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.6"/>
            <path d="M7 13c1.5-2 3-3 5-3s3.5 1 5 3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/>
          </svg>
        </div>
        <div class="brand-text">
          <h1>Fasting</h1>
          <p class="tagline">Your Holistic System Update</p>
        </div>
      </div>

      <!-- nav: keep button + links together. JS toggles class "open" on #nav -->
      <nav class="nav" id="nav" aria-label="Primary navigation">
        <button class="nav-toggle" aria-label="Toggle menu" aria-expanded="false">â˜°</button>
        <div class="nav-links" role="menu">
          <a role="menuitem" href="index.html">Home</a>
          <a role="menuitem" href="body.html">Body Update</a>
          <a role="menuitem" href="soul.html" class="ghost">Soul Update</a>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-inner">
        <div class="hero-left">
          <div class="title-pill" role="heading" aria-level="1">Software Refresh</div>

          <p class="hero-sub">
            Puasa memperbarui software batin kita: melatih pengendalian diri, membersihkan hati, mendekatkan diri kepada Allah,
            menumbuhkan kepedulian sosial, menghadirkan ketenangan batin, dan memperdalam keikhlasan & syukur.
          </p>

          <div class="hero-ctas">
            <a class="btn primary" href="#soul-list">Lihat Poin Utama</a>
            <a class="btn ghost" href="index.html#scientific">Scientific Insights</a>
          </div>
        </div>

        <div class="hero-right" aria-hidden="true">
          <div class="orb" aria-hidden="true">
            <div class="orb-core"></div>
          </div>
          <div class="watermark">FASTING</div>
        </div>
      </div>
    </section>

    <section id="soul-list" class="soul-list">
      <div class="container">
        <div class="list-panel" role="region" aria-labelledby="soul-list-title">
          <h2 id="soul-list-title" class="sr-only">Software Refresh â€” poin utama</h2>

          <ul class="pill-list" role="list">
            <li class="pill" tabindex="0">Melatih pengendalian diri</li>
            <li class="pill" tabindex="0">Membersihkan hati dan jiwa</li>
            <li class="pill" tabindex="0">Mendekatkan diri kepada Allah</li>
            <li class="pill" tabindex="0">Menumbuhkan kepedulian sosial</li>
            <li class="pill" tabindex="0">Menumbuhkan ketenangan batin</li>
            <li class="pill" tabindex="0">Meningkatkan keikhlasan dan syukur</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Progress Section (restored) -->
    <section class="progress-section">
      <h3>Inner Peace Level</h3>
      <div class="progress-bar">
        <div class="progress-fill" aria-hidden="true"></div>
      </div>
      <p class="progress-text" aria-live="polite">Upgrading your soul...</p>
    </section>

  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <div>Â© <span id="year"></span> Fasting</div>
      <div class="footer-links">
        <a href="index.html#scientific">Sources</a>
        <a href="index.html#join">Join</a>
      </div>
    </div>
  </footer>

  <!-- Single script block (clean) -->
  <script>
    // dynamic year
    const yearEl = document.getElementById('year');
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    // NAV TOGGLE: target DOM elements that exist (#nav and .nav-toggle)
    const nav = document.getElementById('nav');
    const navToggle = nav ? nav.querySelector('.nav-toggle') : null;
    const navLinks = nav ? nav.querySelector('.nav-links') : null;

    if (navToggle && nav) {
      navToggle.addEventListener('click', () => {
        const expanded = navToggle.getAttribute('aria-expanded') === 'true';
        navToggle.setAttribute('aria-expanded', String(!expanded));
        nav.classList.toggle('open');
      });

      // auto-close when a link is clicked (mobile)
      if (navLinks) {
        navLinks.addEventListener('click', (e) => {
          if (e.target.tagName === 'A') {
            nav.classList.remove('open');
            navToggle.setAttribute('aria-expanded', 'false');
          }
        });
      }
    }

    // Progress animation (restore)
    const fill = document.querySelector('.progress-fill');
    const progressText = document.querySelector('.progress-text');
    let width = 0;
    const interval = setInterval(() => {
      if (width >= 100) {
        clearInterval(interval);
        if (progressText) progressText.innerText = 'Soul Upgrade Complete ðŸŒ¸';
      } else {
        width++;
        if (fill) fill.style.width = width + '%';
      }
    }, 50);

    // aria-live for pills (announce focus)
    const pills = document.querySelectorAll('.pill');
    const live = document.createElement('div');
    live.setAttribute('aria-live','polite');
    live.className = 'sr-only';
    document.body.appendChild(live);
    pills.forEach(p => {
      p.addEventListener('focus', () => live.textContent = p.textContent );
    });
  </script>
</body>
</html>
